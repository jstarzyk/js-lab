<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>
        Zadanie 3,4
    </title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
            integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
            integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
            crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            // let min = 1;
            // let max = 10;
            // let maxRequests = Math.floor(Math.random() * (max - min + 1)) + min;
            // let requests = 0;
            // $('.progress').append(`<div class="progress-bar" role="progressbar" style="width: 0%;"
            //     aria-valuemin="0" aria-valuemax="${maxRequests}">0%</div>`);
            // $('#maxRequests').text(`${maxRequests}`);
            // let progressBar = $('.progress-bar');

            $('#pattern').keyup(e => {
                let elem = $(e.target);
                if (elem.val().length === 0) {
                    return;
                }

                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:8080/submit',
                    contentType: 'text/plain',
                    data: elem.val(),
                    success: res => {
                        $('.tab').remove();
                        $('main').append(decodeURI(res));
                    }
                })
            })
        });

    </script>
</head>
<body>
<main>
    <div style='margin: 10px 5px;'>
        <textarea id='pattern' name='pattern' title='pattern'
                  style='display: inline-block; height: 80px; vertical-align: middle;'>liste</textarea>
    </div>
</main>
</body>
</html>